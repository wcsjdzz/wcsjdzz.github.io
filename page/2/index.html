<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Blooooog~ - 你所不知道的老杜振熙之技术博客</title><meta name="author" content="老杜振熙"><meta name="copyright" content="老杜振熙"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="或许在此处可以找到你我想要的东西">
<meta property="og:type" content="website">
<meta property="og:title" content="Blooooog~">
<meta property="og:url" content="https://wcsjdzz.github.io/page/2/index.html">
<meta property="og:site_name" content="Blooooog~">
<meta property="og:description" content="或许在此处可以找到你我想要的东西">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wcsjdzz.github.io/null">
<meta property="article:author" content="老杜振熙">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wcsjdzz.github.io/null"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://wcsjdzz.github.io/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: true,
  isToc: false,
  postUpdate: '2021-08-10 19:20:06'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/null" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div></div></div><hr/></div></div><div id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Blooooog~</a></span><span id="menus"><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">Blooooog~</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/07/06/cmake-%E4%B8%80%E4%BA%9Bkeywords/" title="cmake - 一些keywords">     <img class="post_bg" src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="cmake - 一些keywords"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/06/cmake-%E4%B8%80%E4%BA%9Bkeywords/" title="cmake - 一些keywords">cmake - 一些keywords</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-06T05:48:08.000Z" title="发表于 2021-07-06 13:48:08">2021-07-06</time></span></div><div class="content">private, interface, public某些cmake函数是为target指定traits的，这些参数需要指定上述3个keywors中的一个。而如果某个target是一个库，那么这3个keywords就尤其重要。

private：指定的traits只作用于这个target，而不会作用于那些需要链接这个target的target。
interface：相反的含义。这个traits只作用于那些需要链接该target的target，而不作用于该target。
public：即private和interface的集合。

所谓的traits，举个例子就比如：要include的目录，C++ standard，等等。其对应于底层的INCLUDE_DIRECTORIES（私有属性）, INTERFACE_INCLUDE_DIRECTORIES（接口属性）, CXX_STANDARD（C++标准这个属性不具备接口值）等变量。
以下函数可以为target添加traits：

  target_link_libraries: Other targets; can also pass libr ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/07/06/%E4%BD%BF%E7%94%A8GoogleTest%E6%B5%8B%E8%AF%95C-%E4%BB%A3%E7%A0%81/" title="使用GoogleTest测试C++代码">     <img class="post_bg" src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用GoogleTest测试C++代码"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/06/%E4%BD%BF%E7%94%A8GoogleTest%E6%B5%8B%E8%AF%95C-%E4%BB%A3%E7%A0%81/" title="使用GoogleTest测试C++代码">使用GoogleTest测试C++代码</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-06T05:46:54.000Z" title="发表于 2021-07-06 13:46:54">2021-07-06</time></span></div><div class="content">术语
test suite：应该就是指整个测试的名称和意义
test：整个测试下某一类的测试
所以test suite是一个整体，下面会有不同的test，不同的test都属于这个test suite。单个test下可以包含多个测试用例
test case：废弃术语

使用流程
编写断言（assertion），检查环境是否有效；
断言包含TEST()和TEST_F()两种大类型，分别对应简单的测试，以及针对固定class的测试夹具；

断言
ASSERT_*类的断言只生成FATAL类型的错误，并立即终止程序；
 EXPECT_*类的断言还会生成NONFATAL类型的错误，不会立即终止程序；
上述两种类型的断言如何选择？关键就在于：选择EXPECT_*，那么你想要的是，出现错误时，想要程序继续运行，去观察更多的错误现象以及输出；而选择ASSERT_*就意味着，如果出现了错误，那么后续的程序运行也就没有意义了；

cmake使用cmake构建用googletest进行测试的测试工程，大概有两种方式：FetchContent()和find_package()。本节中我们假设已经有了一个项目，内 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/07/06/k8s-tutorial-Learn-Kubernetes-Basics/" title="k8s tutorial - Learn Kubernetes Basics">     <img class="post_bg" src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="k8s tutorial - Learn Kubernetes Basics"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/06/k8s-tutorial-Learn-Kubernetes-Basics/" title="k8s tutorial - Learn Kubernetes Basics">k8s tutorial - Learn Kubernetes Basics</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-06T05:45:47.000Z" title="发表于 2021-07-06 13:45:47">2021-07-06</time></span></div><div class="content">流程汇总
创建cluster
在cluster上创建一个deployment，然后再部署对应的APP（因为创建deployment时会指定image）
当创建了Deployment之后，系统会创建对应的pod，视为一组紧密耦合的APP的逻辑主机
将pod视为一个逻辑主机之后，就很清晰了，kubectl提供了一系列接口以和pod进行通信以及运行APP（这里需要注意Pod和Node的区别）
pod因为只能运行在单个Node上，所以是很脆弱的，因此需要在此基础上创建service；同时，service使得APP能够expose到外部网络）

Learn Kubernetes Basics – Create a Cluster
Kubernetes automates the distribution and scheduling of application containers across a cluster in a more efficient way.

核心理念：使应用程序容器化，这样可以使得程序和主机解耦，程序不需要绑定到特定主机，而是通过k8s在cluster上进行调度编排。 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/07/06/hello-world/" title="Hello World">     <img class="post_bg" src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/06/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-06T05:40:54.614Z" title="发表于 2021-07-06 13:40:54">2021-07-06</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment
</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/14/Linux-Useful-Command-Argument-Combination/" title="Linux - Useful Command Argument Combination">     <img class="post_bg" src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux - Useful Command Argument Combination"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/14/Linux-Useful-Command-Argument-Combination/" title="Linux - Useful Command Argument Combination">Linux - Useful Command Argument Combination</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-03-13T23:07:05.000Z" title="发表于 2021-03-14 07:07:05">2021-03-14</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/OS/">OS</a></span></div><div class="content">ps
ps -ef：显示所有进程的信息；
ps l：输出进程的额外信息，包括 STAT 状态信息（XY，X 代表当前状态，分别有：S 睡眠，R 就绪，O 运行；Y 代表额外的状态信息，如下图所示），比如 Ss 代表该进程处于睡眠状态，并且是一个控制进程；

du
du -h -d1：显示当前文件夹下所有子文件和子文件夹所占用的空间（注意，递归深度只有 1）

</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/08/MySQL%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/" title="MySQL子查询优化">     <img class="post_bg" src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL子查询优化"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/08/MySQL%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/" title="MySQL子查询优化">MySQL子查询优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-03-07T21:04:14.000Z" title="发表于 2021-03-08 05:04:14">2021-03-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/MySQL/">MySQL</a></span></div><div class="content">子查询优化概述和分类
子查询在外层查询中可能出现的位置：
在 select 中：SELECT (SELECT MAX(COL1) FROM TABLE1);
在 from 中：SELECT M1 FROM (SELECT M+1 FROM TABLE1 WHERE M&gt;2) AS TMP;
在 WHERE 中（最常见）：SELECT * FROM TABLE1 WHERE M1 IN (SELECT M2 FROM TABLE2)；


按照子查询返回的数据的规模，将子查询分类如下：
标量子查询；行子查询；列子查询；表子查询；


按照与外层查询的关系进行分类：
不相关子查询：子查询可以独立运行得到结果；
相关子查询：依赖外部查询的结果；SELECT * FROM T1 WHERE T1.M1 IN (SELECT T2.M2 IN T2 WHERE T1.N1 = T2.N2)



限制条件由于子查询一般只是用在 where 中，以构成操作数 comparison_operator (子查询)，所以这里列举一下这种情况下的一些限制条件：

comparison_operato ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/03/08/mysql-grammer-summary/" title="mysql-grammer-summary">     <img class="post_bg" src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mysql-grammer-summary"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/08/mysql-grammer-summary/" title="mysql-grammer-summary">mysql-grammer-summary</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-03-07T21:04:14.000Z" title="发表于 2021-03-08 05:04:14">2021-03-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/MySQL/">MySQL</a></span></div><div class="content">former
use &lt;database&gt; : 选择某个数据库
测试: 不加 FROM 字段可以测试 mysql 的各个功能
DELIMITER &lt;character&gt;: 自定义新的分隔符（以替换掉;分隔符）

常用的 SHOW 命令SHOW DATABASES:SHOW TABLES:SHOW COLUMNS FROM &lt;TABLE&gt; 等价于 DESCRIBE &lt;TABLE&gt;SHOW GRANTS
常用的 SELECT 命令SELECT &lt;COLUMNS&gt; FROM &lt;TABLE&gt; : 从表中选出某一列（整列）SELECT DISTINCT &lt;COLUMNS&gt; FROM &lt;TABLE&gt; : 从表中选出某一整列，但剔除掉重复的行SELECT &lt;COLUMNS&gt; FROM &lt;TABLE&gt; LIMIT &lt;row, lines&gt; : 选出从第 row 行开始的 lines 行SELECT &lt;TABLES&gt;.&lt;COLUMNS&gt; FROM & ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/01/27/Brief-Notes-of-%E3%80%8AEffective-C-%E3%80%8B/" title="Brief Notes of 《Effective C++》">     <img class="post_bg" src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Brief Notes of 《Effective C++》"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/27/Brief-Notes-of-%E3%80%8AEffective-C-%E3%80%8B/" title="Brief Notes of 《Effective C++》">Brief Notes of 《Effective C++》</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-26T22:13:41.000Z" title="发表于 2021-01-27 06:13:41">2021-01-27</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Deep-in-C/">Deep in C++</a></span></div><div class="content">本文为学习《Effective C++》各个条款之后的一点概要式的总结。
条款 2 尽量以 const, enum, inline 替代#define
宁可用编译器替代预处理器。以#define 定义的记号是不会记录到符号表中的；
#define 没有封装性可言。
enum hack。enum &#123;tmp=5&#125;;对应的tmp一定在编译器就可以得到并且不会导致非必要的内存分配。

条款 3 尽可能使用 const
调用 const 成员函数以实现孪生 non-const 成员函数。通过使用const_cast和static_cast来达到目的，优点是避免了代码重复。
调用 non-const 成员函数实现 const 成员函数是错误的。因为这破坏了 const 的语义约束。

条款 5 了解 C++默认编写并调用哪些函数
如果自定义了需要实参的构造函数，则编译器不会自动生成 default ctor
如果 class 内部包含有带有&amp;引用类型或者const常量类型，则编译器不会自动生成 copy assignment；因为编译器不知道该怎么处理

条款 7 为多 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/04/TCP-summary/" title="TCP-summary">     <img class="post_bg" src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TCP-summary"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/04/TCP-summary/" title="TCP-summary">TCP-summary</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-03T20:56:40.000Z" title="发表于 2021-01-04 04:56:40">2021-01-04</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Computer-Network/">Computer Network</a></span></div><div class="content">前言
面向连接的、可靠的字节流服务:

必须先连接，再交互数据；
TCP 不对发送的字节流做任何解释和标识符插入;


TCP 连接：

socket: 编程接口，一个 IP 地址和一个端口号唯一标志一个 socket
($2^{32}-1$): TCP 字节流的最大序号，循环反复; 每个被传输的字节都被计数
流量控制：每一端对窗口大小进行声明; 起始于确认序号字段指明的值(默认为 4096)


TCP 头部

2 字节源端口号+2 字节目的端口号；
4 字节序号
4 字节确认序号
{4 位首部长度，保留 6 位，6 位标志位}+2 字节窗口大小
2 字节检验和+2 字节紧急指针
可选选项


一些注意点：

TCP 中仅有两方进行通信，广播和多播不能用于 TCP
应用层数据会被 TCP 分割成合适的数据块，称为报文段（segment）
TCP 首部最长为 60 字节（4 位首部长度最大值为 15，单位为 4 字节，故最长为$4\times15=60$）




TCP 连接建立和终止
tcpdump:

格式：源 &gt; 目的：标志(&#123;&#39;S&#39;, &#39 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/01/04/C-%E5%B9%B6%E5%8F%91API%E6%80%BB%E7%BB%93/" title="C++并发API总结">     <img class="post_bg" src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++并发API总结"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/04/C-%E5%B9%B6%E5%8F%91API%E6%80%BB%E7%BB%93/" title="C++并发API总结">C++并发API总结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-03T20:53:30.000Z" title="发表于 2021-01-04 04:53:30">2021-01-04</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/Deep-in-C/">Deep in C++</a></span></div><div class="content">本文是阅读《Effective Modern C++》之后的一点理解和笔记github 博客地址
基于线程 VS. 基于任务1234int doAsyncWork();std::thread t(doAsyncWork); // 基于线程auto fut = std::async(doAsyncWork); // 基于任务


硬件线程：实际执行计算的线程，和实际的 CPU 核心有关（一个核心对应一个或多个硬件线程）；

软件线程：进行进程管理、硬件线程调度的线程；系统能够提供的软件线程有限；

超订（oversubscription）：就绪状态的软件线程超过了硬件线程个数；

软件线程和硬件线程的最佳比例很难确定，因为它取决于：

软件线程变为可运行状态的频繁程度（IO 密集型 VS. 计算密集型）
上下文切换的开销成本（与体系结构有关）
软件线程使用 CPU 缓存的命中率（与体系结构有关）
…


std::thread：底层软件线程的句柄

在通常情况下，基于任务会比基于线程更好，原因如下：

std::async的返回值类型std::future拥有get()成员函数，可以方便 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/null" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">老杜振熙</div><div class="author-info__description">或许在此处可以找到你我想要的东西</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/wcsjdzz"><i class="fab fa-github"></i><span>Follow Me</span></a></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">Next plan - http server based on net library</div></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/08/09/an-introduction-to-gcc-md/" title="an_introduction_to_gcc.md"><img src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="an_introduction_to_gcc.md"/></a><div class="content"><a class="title" href="/2021/08/09/an-introduction-to-gcc-md/" title="an_introduction_to_gcc.md">an_introduction_to_gcc.md</a><time datetime="2021-08-09T12:42:04.000Z" title="发表于 2021-08-09 20:42:04">2021-08-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/07/24/muduo%E6%BA%90%E7%A0%81%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90/" title="muduo源码深入剖析"><img src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="muduo源码深入剖析"/></a><div class="content"><a class="title" href="/2021/07/24/muduo%E6%BA%90%E7%A0%81%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90/" title="muduo源码深入剖析">muduo源码深入剖析</a><time datetime="2021-07-24T07:34:50.000Z" title="发表于 2021-07-24 15:34:50">2021-07-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/07/21/2-%E7%A9%BA%E9%97%B4%E9%85%8D%E7%BD%AE%E5%99%A8/" title="2 空间配置器"><img src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2 空间配置器"/></a><div class="content"><a class="title" href="/2021/07/21/2-%E7%A9%BA%E9%97%B4%E9%85%8D%E7%BD%AE%E5%99%A8/" title="2 空间配置器">2 空间配置器</a><time datetime="2021-07-21T07:32:05.000Z" title="发表于 2021-07-21 15:32:05">2021-07-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/07/06/%E5%85%B3%E4%BA%8E%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84%E7%9A%84%E6%9C%80%E5%80%BC%E5%AF%BB%E6%89%BE%E9%97%AE%E9%A2%98/" title="关于旋转数组的最值寻找问题"><img src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="关于旋转数组的最值寻找问题"/></a><div class="content"><a class="title" href="/2021/07/06/%E5%85%B3%E4%BA%8E%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84%E7%9A%84%E6%9C%80%E5%80%BC%E5%AF%BB%E6%89%BE%E9%97%AE%E9%A2%98/" title="关于旋转数组的最值寻找问题">关于旋转数组的最值寻找问题</a><time datetime="2021-07-06T05:54:22.000Z" title="发表于 2021-07-06 13:54:22">2021-07-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/07/06/redisServer/" title="redisServer"><img src="/img/doc-cover.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="redisServer"/></a><div class="content"><a class="title" href="/2021/07/06/redisServer/" title="redisServer">redisServer</a><time datetime="2021-07-06T05:53:26.000Z" title="发表于 2021-07-06 13:53:26">2021-07-06</time></div></div></div></div></div><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Algorithm/"><span class="card-category-list-name">Algorithm</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C-net-programming/"><span class="card-category-list-name">C++ net programming</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Computer-Network/"><span class="card-category-list-name">Computer Network</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Deep-in-C/"><span class="card-category-list-name">Deep in C++</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/MySQL/"><span class="card-category-list-name">MySQL</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/OS/"><span class="card-category-list-name">OS</span><span class="card-category-list-count">1</span></a></li>
            
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Algorithm/" style="font-size: 1.1em; color: #999">Algorithm</a> <a href="/tags/Deep-in-C/" style="font-size: 1.5em; color: #99a9bf">Deep in C++</a> <a href="/tags/DevOps/" style="font-size: 1.1em; color: #999">DevOps</a> <a href="/tags/Nginx/" style="font-size: 1.3em; color: #99a1ac">Nginx</a> <a href="/tags/Redis/" style="font-size: 1.5em; color: #99a9bf">Redis</a> <a href="/tags/gcc/" style="font-size: 1.1em; color: #999">gcc</a> <a href="/tags/muduo/" style="font-size: 1.1em; color: #999">muduo</a> <a href="/tags/%E3%80%8ASTL%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" style="font-size: 1.1em; color: #999">《STL源码剖析》阅读笔记</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/08/"><span class="card-archive-list-date">八月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">七月 2021</span><span class="card-archive-list-count">13</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">三月 2021</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/01/"><span class="card-archive-list-date">一月 2021</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">十二月 2020</span><span class="card-archive-list-count">12</span></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">32</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-08-10T11:20:06.252Z"></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By 老杜振熙</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>